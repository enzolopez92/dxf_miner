# import sys
# sys.path.append('/opt/homebrew/lib/python3.11/site-packages')
# import ezdxf

# def extract_text_from_entity(entity):
#     text = None
#     if 'TEXT' in entity.dxftype() or 'MTEXT' in entity.dxftype() or 'JRL_TEXT' in entity.dxftype() or 'JRL_REBAR' in entity.dxftype() or 'JRL_CONCRETE' in entity.dxftype() or 'JRL_TITLE_BLOCK' in entity.dxftype():
#         text = entity.dxf.text
#     elif 'ATTRIB' in entity.dxftype() or 'ATTDEF' in entity.dxftype():
#         text = entity.dxf.text

#     return text

# def main():
#     dxf_filename = '/Users/elcaballero/Downloads/CP-JRL-ET-L19-DR-S-03-2026-C01.dxf'
#     layout_name = 'Model'  # Replace with the actual layout name

#     dwg = ezdxf.readfile(dxf_filename)

#     if layout_name in dwg.layouts:
#         layout = dwg.layouts.get(layout_name)
        
#         for entity in layout:
#             text_value = extract_text_from_entity(entity)
#             if text_value:
#                 print(f"Text: {text_value}")
#     else:
#         print(f"Layout '{layout_name}' not found.")

# if __name__ == "__main__":
#     main()





import sys
sys.path.append('/opt/homebrew/lib/python3.11/site-packages')
import ezdxf

def extract_text_from_entity(entity):
    text = None
    if 'TEXT' in entity.dxftype() or 'MTEXT' in entity.dxftype():
        text = entity.dxf.text
    elif 'ATTRIB' in entity.dxftype() or 'ATTDEF' in entity.dxftype():
        text = entity.dxf.text

    return text

def main():
    dxf_filename = '/Users/elcaballero/Downloads/CP-JRL-ET-L19-DR-S-03-2026.dxf'
    layout_name = 'CP-JRL-ET-L19-DR-S-03-2026'  # Replace with the actual layout name

    dwg = ezdxf.readfile(dxf_filename)

    if layout_name in dwg.layouts:
        layout = dwg.layouts.get(layout_name)
        for entity in layout:
            text_value = extract_text_from_entity(entity)
            if text_value:
                print(f"Text: {text_value}")
    else:
        print(f"Layout '{layout_name}' not found.")

if __name__ == "__main__":
    main()









